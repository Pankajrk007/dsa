<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax</title>
</head>
<body>
    <!-- <p id="demo">here we load new text</p>
    <button onclick="loadata"> click me</button>

    <script>
        function loadata() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function(){
            if (this.readyState== 4 && this.status==200){
                document.getElementById("demo").innerHTML = this.responseText;

            } else if(this.readyState==4 && this.status==404){
                document.getElementById("demo").innerHTML= "File not found"
            }
        } ;
        
        xhttp.open('GET',"test.txt",true);
        xhttp.send(); -->
        
    <!-- </script> -->


<h1>Fetch method</h1>
<br>
    <script>
       fetch('https://jsonplaceholder.typicode.com/posts')
    //    upar url dala uske baad vo promise karega then ( )method ka use karke 
      .then(response => response.json())
    //   then k baad humko jo response aara hai ya json ye response. text json liokh k batana padta hai 
    //   then k baad data kis type me hai ye batana hoga fir hum ek => function use karte hai jisme batate hai data ka type 
    // aur ye function fir ek Promise karta hai fir humko then method use karni padti hai 
      .then(json => console.log(json))
// fir hum usko print karte hai 
      .catch((error) => console.log("Can't fetch data"));
// upar hame batata hai koi error toh nh 
    </script>

    <script>
        // catch ka example 

        fetch("https://jsonplaceholder.typicode.com/posts/1/comments")
        .then(response=>response.json1())
// upar json k aage 1 laga diya jo aisi koi file hai he nhi jisse ki error ayega 
        .then(json =>console.log(json))
        .catch((error) => console.log("Can't fetch data"));

    </script>
</body>
</html>